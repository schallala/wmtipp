<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
  <h:head>
    <title>JSF 2 Spring 4 JPA 2 Spielwiese</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <h:outputStylesheet name="css/screen.css" />
  </h:head>
  <h:body id="page">

    <h:panelGroup  layout="block">
      <!--      <h:panelGroup layout="block" style="background: #62b3d4;padding-top: 10px;padding-left: 5px;">
              <p:clock mode="client"  pattern="dd.MM.yyyy - HH:mm:ss" />
            </h:panelGroup>-->
      <h:panelGroup id="header" layout="block">
        <h:graphicImage  url="/resources/graphics/2018.png" style="padding-right: 50px" />
        <h:graphicImage  url="/resources/graphics/header.de.png"  />
        <h:graphicImage  url="/resources/graphics/artwork.png"  style="padding-left: 50px" />
      </h:panelGroup>
    </h:panelGroup>

    <h:panelGrid columns="3"  styleClass="top-aligned-columns">

      <h:panelGroup id="sidebar_left" >
        <p:menu style="min-width: 150px;"  >
          <p:submenu label="Ajax">
            <p:menuitem value="Home"  outcome="/home.jsf" />
            <p:menuitem value="Fahrplan" outcome="/schedule.jsf" />
            <p:menuitem value="Spieler bearbeiten" outcome="/masterdata/editPlayer.jsf" />
            <p:menuitem value="Teams bearbeiten" outcome="/masterdata/editTeam.jsf" />
            <p:menuitem value="Gruppen bearbeiten" outcome="/masterdata/editGroup.jsf" />
            <p:menuitem value="Runden bearbeiten" outcome="/masterdata/editRound.jsf" />
            <p:menuitem value="Spiele bearbeiten" outcome="/masterdata/editMatch.jsf" />
            <p:menuitem value="Tippzettel" outcome="/masterdata/editTips.jsf" />
            <p:menuitem value="Test Services" outcome="/testServices.jsf" />
          </p:submenu>
        </p:menu>
      </h:panelGroup>

      <h:panelGroup id="container" layout="block">
        <h:panelGroup id="content" layout="block">
          <center>
            <ui:insert name="content">Main Content</ui:insert>
          </center>
        </h:panelGroup>
      </h:panelGroup>

      <h:panelGroup id="sidebar_right">
        <p:panel header="User" style="min-width: 150px;"  >
          <h:form>
            <p:panelGrid columns="2" rendered="#{userSessionCtrl.currentUser == null}">
              <p:outputLabel for="login" value="Login: "/>
              <p:inputText id="login" value="#{userSessionCtrl.login}" style="width: 80px;"/>
              <p:outputLabel for="password" value="Passwort: "/>
              <p:password id="password" value="#{userSessionCtrl.password}" style="width: 80px;"/>
            </p:panelGrid>
            <center>
              <p:panelGrid columns="2" rendered="#{userSessionCtrl.currentUser != null}">
                Hallo #{userSessionCtrl.currentUser.firstName} #{userSessionCtrl.currentUser.name}!
              </p:panelGrid>
              <p:commandButton value="Login" actionListener="#{userSessionCtrl.validateAndlogin}" style="margin-top: 5px;"
                               rendered="#{userSessionCtrl.currentUser == null}" update="sidebar_right"/>
              <p:commandButton value="Logout" actionListener="#{userSessionCtrl.invalidateLogin}" style="margin-top: 5px;" 
                               rendered="#{userSessionCtrl.currentUser != null}" update="sidebar_right"/>
            </center>
          </h:form>
        </p:panel>
      </h:panelGroup>

    </h:panelGrid>

    <h:panelGroup id="footer" layout="block"><br />
      Developed by Torsten Abels, source code on <p:link href="https://github.com/schallala/" value="GitHub" target="_blank"/> 
    </h:panelGroup>

  </h:body>
</html>
